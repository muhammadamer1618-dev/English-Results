<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>درجات الاختبار</title>
<link href='https://fonts.googleapis.com/css2?family=Calibri:wght@400;700&display=swap' rel='stylesheet'>
<style>
body{font-family:Calibri;background:#eef;padding:20px;margin:0}
h2{text-align:center;color:#1976d2}
input,button{
    width:100%;padding:15px;margin-top:10px;
    font-size:18px;border:1px solid #999;border-radius:8px;
}
button{background:#1976d2;color:white;border:none;cursor:pointer}
</style>
</head>
<body>

<h2>إدخال درجات الاختبار</h2>

<input id="code" placeholder="كود الطالب">
<input id="examType" placeholder="نوع الاختبار (نهائي / فترة / قصير)">
<input id="fullMark" placeholder="الدرجة النهائية">
<input id="mark" placeholder="درجة الطالب">

<button onclick="saveScore()">حفظ الدرجات</button>
<button onclick="location='index.html'">الصفحة الرئيسية</button>

<script>
function saveScore(){
 let codeInput = document.getElementById('code').value.trim();
 let examInput = document.getElementById('examType').value.trim();
 let fullInput = document.getElementById('fullMark').value.trim();
 let markInput = document.getElementById('mark').value.trim();

 let all = localStorage.getItem("students");
 all = all ? JSON.parse(all) : {};

 if(!all[codeInput]){alert("الطالب غير موجود");return;}

 all[codeInput].examType = examInput;
 all[codeInput].fullMark = Number(fullInput);
 all[codeInput].mark = Number(markInput);

 localStorage.setItem("students", JSON.stringify(all));
 alert("تم حفظ درجات الطالب");
}
</script>

</body>
</html>
